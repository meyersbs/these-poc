name: T.H.E.S.E. MistakeBot (Apply Labels)

on:
  issue_comment:
    types:
      - edited

jobs:
  mistakebot_apply_label:
    if: contains( github.event.issue.labels.*.name, 'to-err-is-human')
    runs-on: ubuntu-latest
    
    steps:
      # SLIPS
      - name: Search S01
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S01
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S01)
          flags: gm
      - name: Add Label S01
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S01.outputs.group1 == 'S01' }}
        with:
          labels: |
            Typos & Misspellings (HE S01)
            Slip (Failure of Attention)
      - name: Remove Label S01
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S01.outputs.group1 == '' }}
        with:
          labels: |
            Typos & Misspellings (HE S01)
          
      - name: Search S02
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S02
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S02)
          flags: gm
      - name: Add Label S02
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S02.outputs.group1 == 'S02' }}
        with:
          labels: |
            Syntax Errors (HE S02)
            Slip (Failure of Attention)
      - name: Remove Label S02
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S02.outputs.group1 == '' }}
        with:
          labels: |
            Syntax Errors (HE S02)
    
      - name: Search S03
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S03
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S03)
          flags: gm
      - name: Add Label S03
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S03.outputs.group1 == 'S03' }}
        with:
          labels: |
            Overlooking Documented Information (HE S03)
            Slip (Failure of Attention)
      - name: Remove Label S03
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S03.outputs.group1 == '' }}
        with:
          labels: |
            Overlooking Documented Information (HE S03)
          
      - name: Search S04
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S04
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S04)
          flags: gm
      - name: Add Label S04
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S04.outputs.group1 == 'S04' }}
        with:
          labels: |
            Multitasking Errors (HE S04)
            Slip (Failure of Attention)
      - name: Remove Label S04
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S04.outputs.group1 == '' }}
        with:
          labels: |
            Multitasking Errors (HE S04)
          
      - name: Search S05
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S05
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S05)
          flags: gm
      - name: Add Label S05
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S05.outputs.group1 == 'S05' }}
        with:
          labels: |
            Hardware Interaction Errors (HE S05)
            Slip (Failure of Attention)
      - name: Remove Label S05
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S05.outputs.group1 == '' }}
        with:
          labels: |
            Hardware Interaction Errors (HE S05)
          
      - name: Search S06
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S06
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S06)
          flags: gm
      - name: Add Label S06
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S06.outputs.group1 == 'S06' }}
        with:
          labels: |
            Overlooking Proposed Code Changes (HE S06)
            Slip (Failure of Attention)
      - name: Remove Label S06
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S06.outputs.group1 == '' }}
        with:
          labels: |
            Overlooking Proposed Code Changes (HE S06)
          
      - name: Search S07
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S07
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S07)
          flags: gm
      - name: Add Label S07
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S07.outputs.group1 == 'S07' }}
        with:
          labels: |
            Overlooking Existing Functionality (HE S07)
            Slip (Failure of Attention)
      - name: Remove Label S07
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S07.outputs.group1 == '' }}
        with:
          labels: |
            Overlooking Existing Functionality (HE S07)
          
      - name: Search S08
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-S08
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (S08)
          flags: gm
      - name: Add Label S08
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-S08.outputs.group1 == 'S08' }}
        with:
          labels: |
            General Attentional Failure (HE S08)
            Slip (Failure of Attention)
      - name: Remove Label S08
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-S08.outputs.group1 == '' }}
        with:
          labels: |
            General Attentional Failure (HE S08)

      # Lapses
      - name: Search L01
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L01
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L01)
          flags: gm
      - name: Add Label L01
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L01.outputs.group1 == 'L01' }}
        with:
          labels: |
            Forgetting to Finish a Dev Task (HE L01)
            Lapse (Failure of Memory)
      - name: Remove Label L01
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L01.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting to Finish a Dev Task (HE L01)
          
      - name: Search L02
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L02
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L02)
          flags: gm
      - name: Add Label L02
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L02.outputs.group1 == 'L02' }}
        with:
          labels: |
            Forgetting to Fix a Defect (HE L02)
            Lapse (Failure of Memory)
      - name: Remove Label L02
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L02.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting to Fix a Defect (HE L02)
    
      - name: Search L03
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L03
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L03)
          flags: gm
      - name: Add Label L03
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L03.outputs.group1 == 'L03' }}
        with:
          labels: |
            Forgetting to Remove Dev Artifacts (HE L03)
            Lapse (Failure of Memory)
      - name: Remove Label L03
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L03.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting to Remove Dev Artifacts (HE L03)
          
      - name: Search L04
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L04
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L04)
          flags: gm
      - name: Add Label L04
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L04.outputs.group1 == 'L04' }}
        with:
          labels: |
            Working with Outdated Source Code (HE L04)
            Lapse (Failure of Memory)
      - name: Remove Label L04
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L04.outputs.group1 == '' }}
        with:
          labels: |
            Working with Outdated Source Code (HE L04)
          
      - name: Search L05
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L05
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L05)
          flags: gm
      - name: Add Label L05
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L05.outputs.group1 == 'L05' }}
        with:
          labels: |
            Forgetting an Import Statement (HE L05)
            Lapse (Failure of Memory)
      - name: Remove Label L05
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L05.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting an Import Statement (HE L05)
          
      - name: Search L06
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L06
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L06)
          flags: gm
      - name: Add Label L06
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L06.outputs.group1 == 'L06' }}
        with:
          labels: |
            Forgetting to Save Work (HE L06)
            Lapse (Failure of Memory)
      - name: Remove Label L06
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L06.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting to Save Work (HE L06)
          
      - name: Search L07
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L07
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L07)
          flags: gm
      - name: Add Label L07
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L07.outputs.group1 == 'L07' }}
        with:
          labels: |
            Forgetting Previous Dev Discussion (HE L07)
            Lapse (Failure of Memory)
      - name: Remove Label L07
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L07.outputs.group1 == '' }}
        with:
          labels: |
            Forgetting Previous Dev Discussion (HE L07)
          
      - name: Search L08
        uses: actions-ecosystem/action-regex-match@v2
        id: regex-match-L08
        with:
          text: ${{ github.event.comment.body }}
          regex: \- \[x\] (L08)
          flags: gm
      - name: Add Label L08
        uses: actions-ecosystem/action-add-labels@v1
        if: ${{ steps.regex-match-L08.outputs.group1 == 'L08' }}
        with:
          labels: |
            General Memory Failure (HE L08)
            Lapse (Failure of Memory)
      - name: Remove Label L08
        uses: actions-ecosystem/action-remove-labels@v1
        if: ${{ steps.regex-match-L08.outputs.group1 == '' }}
        with:
          labels: |
            General Memory Failure (HE L08)
